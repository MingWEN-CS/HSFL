229a230,233
>         if (chars != null && chars.length == 0) {
>             throw new IllegalArgumentException("The chars array must not be empty");
>         }
> 
231,235c235,243
<             end = 'z' + 1;
<             start = ' ';
<             if (!letters && !numbers) {
<                 start = 0;
<                 end = Integer.MAX_VALUE;
---
>             if (chars != null) {
>                 end = chars.length;
>             } else {
>                 if (!letters && !numbers) {
>                     end = Integer.MAX_VALUE;
>                 } else {
>                     end = 'z' + 1;
>                     start = ' ';                
>                 }
283a292
> 
