147a148,150
> 
> 
> 
501a505
> 
532a537
> 
575a581
> 
1450a1457,1459
>         if (str == null) {
>             return null;
>         }
1454c1463
<         if ((str == null) || (str.length() <= len)) {
---
>         if (str.length() <= len) {
1482a1492,1494
>         if (str == null) {
>             return null;
>         }
1486c1498
<         if ((str == null) || (str.length() <= len)) {
---
>         if (str.length() <= len) {
1519,1521c1531,1538
<         if ((pos < 0) ||
<             (str != null && pos > str.length())) {
<             throw new StringIndexOutOfBoundsException("String index " + pos + " is out of bounds");
---
>         if (str == null) {
>             return null;
>         }
>         if (pos > str.length()) {
>             return "";
>         }
>         if (pos < 0) {
>             pos = 0;
1526,1528d1542
<         if (str == null) {
<             return null;
<         }
2788d2801
< 
2816d2828
< 
2858d2869
< 
3174,3177d3184
< 
< 
< 
< 
