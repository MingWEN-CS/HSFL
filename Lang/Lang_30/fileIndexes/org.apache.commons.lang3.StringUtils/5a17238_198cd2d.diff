3199c3199
<             if (ch == '\r' || ch == '\n') {
---
>             if (ch == CharUtils.CR || ch == CharUtils.LF) {
3209,3210c3209,3210
<         if (last == '\n') {
<             if (str.charAt(lastIdx - 1) == '\r') {
---
>         if (last == CharUtils.LF) {
>             if (str.charAt(lastIdx - 1) == CharUtils.CR) {
3213c3213
<         } else if (last == '\r') {
---
>         } else if (last == CharUtils.CR) {
3395,3396c3395,3396
<         if (last == '\n') {
<             if (ret.charAt(lastIdx - 1) == '\r') {
---
>         if (last == CharUtils.LF) {
>             if (ret.charAt(lastIdx - 1) == CharUtils.CR) {
3419,3420c3419,3420
<         if (last == '\n') {
<             if (str.charAt(lastIdx - 1) == '\r') {
---
>         if (last == CharUtils.LF) {
>             if (str.charAt(lastIdx - 1) == CharUtils.CR) {
