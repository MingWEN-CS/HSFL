2678c2678,2679
<         StringBuffer buffer = new StringBuffer(str.length());
---
>         boolean modified = false;
>         StringBuffer buf = new StringBuffer(str.length());
2682a2684
>                 modified = true;
2684c2686
<                     buffer.append(replaceChars.charAt(index));
---
>                     buf.append(replaceChars.charAt(index));
2687c2689
<                 buffer.append(ch);
---
>                 buf.append(ch);
2690c2692,2696
<         return buffer.toString();
---
>         if (modified) {
>             return buf.toString();
>         } else {
>             return str;
>         }
