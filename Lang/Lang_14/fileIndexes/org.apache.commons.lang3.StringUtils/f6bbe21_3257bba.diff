4428,4431c4428,4429
<         if (last == CharUtils.LF) {
<             if (ret.charAt(lastIdx - 1) == CharUtils.CR) {
<                 return ret.substring(0, lastIdx - 1);
<             }
---
>         if (last == CharUtils.LF && ret.charAt(lastIdx - 1) == CharUtils.CR) {
>             return ret.substring(0, lastIdx - 1);
