299a300
>         regex.append("\\Q");
311,317d311
<             case '?':
<             case '[':
<             case ']':
<             case '(':
<             case ')':
<             case '{':
<             case '}':
319,325c313,329
<             case '|':
<             case '*':
<             case '+':
<             case '^':
<             case '$':
<             case '.':
<                 regex.append('\\');
---
>                 if(++i==value.length()) {
>                     break;
>                 }                
>                 
> 
> 
> 
> 
> 
> 
>                 regex.append(c); 
>                 c = value.charAt(i); 
>                 if (c == 'E') { 
>                   regex.append("E\\\\E\\"); 
>                   c = 'Q'; 
>                 }
>                 break;
328a333
>         regex.append("\\E");
