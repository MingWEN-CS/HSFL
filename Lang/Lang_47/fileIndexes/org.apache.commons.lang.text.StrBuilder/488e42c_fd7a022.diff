20a21,22
> import org.apache.commons.lang.ArrayUtils;
> 
273a276,278
>         if (size == 0) {
>             return ArrayUtils.EMPTY_CHAR_ARRAY;
>         }
286a292,295
> 
> 
> 
> 
289,290c298,303
<         char chars[] = new char[size];
<         System.arraycopy(buf, startIndex, chars, 0, endIndex - startIndex);
---
>         int len = endIndex - startIndex;
>         if (len == 0) {
>             return ArrayUtils.EMPTY_CHAR_ARRAY;
>         }
>         char chars[] = new char[len];
>         System.arraycopy(buf, startIndex, chars, 0, len);
