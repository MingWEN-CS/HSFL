489a490,491
>         int lastTokenBegin = 0;
>         int lastTokenEnd = 0;
495,502c497,499
<                 StringBuffer buf = new StringBuffer((int) 1.2 * str.length() * (listSize - i) / listSize);
<                 while (tok.hasMoreTokens()) {
<                     buf.append(tok.nextToken());
<                     if (tok.hasMoreTokens()) {
<                         buf.append(separator);
<                     }
<                 }
<                 list[i] = buf.toString();
---
>                 String endToken = tok.nextToken();
>                 lastTokenBegin = str.indexOf(endToken, lastTokenEnd);
>                 list[i] = str.substring(lastTokenBegin);
505a503,504
>                 lastTokenBegin = str.indexOf(list[i], lastTokenEnd);
>                 lastTokenEnd = lastTokenBegin + list[i].length();
