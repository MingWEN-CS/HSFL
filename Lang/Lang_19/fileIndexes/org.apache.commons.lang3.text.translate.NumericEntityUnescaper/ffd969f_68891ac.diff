28a29,30
> 
> 
36c38,40
<         if(input.charAt(index) == '&' && index < (input.length() - 1) && input.charAt(index + 1) == '#') {
---
>         int seqEnd = input.length();
>         
>         if(input.charAt(index) == '&' && index < seqEnd - 1 && input.charAt(index + 1) == '#') {
43a48,49
> 
>                 
47c53,55
<             while(input.charAt(end) != ';') {
---
>             
>             while(input.charAt(end) != ';') 
>             {
58a67
>             System.err.println("FAIL: " + input.subSequence(start, end) + "[" + start +"]["+ end +"]");
68a78,79
> 
> 
