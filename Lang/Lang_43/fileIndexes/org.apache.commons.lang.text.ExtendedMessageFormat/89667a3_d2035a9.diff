73a74
>             char[] c = pattern.toCharArray();
75c76
<                 switch (pattern.charAt(pos.getIndex())) {
---
>                 switch (c[pos.getIndex()]) {
82,83c83,84
<                     sb.append(pattern, start, pos.getIndex());
<                     if (pattern.charAt(pos.getIndex()) == START_FMT) {
---
>                     sb.append(c, start, pos.getIndex() - start);
>                     if (c[pos.getIndex()] == START_FMT) {
86c87
<                     if (pattern.charAt(pos.getIndex()) != END_FE) {
---
>                     if (c[pos.getIndex()] != END_FE) {
93c94
<                     sb.append(pattern.charAt(pos.getIndex()));
---
>                     sb.append(c[pos.getIndex()]);
194c195,196
<             if (escapingOn && pattern.charAt(start) == QUOTE) {
---
>             char[] c = pattern.toCharArray();
>             if (escapingOn && c[start] == QUOTE) {
201c203
<                     appendTo.append(pattern, lastHold, pos.getIndex()).append(
---
>                     appendTo.append(c, lastHold, pos.getIndex() - lastHold).append(
207c209
<                 switch (pattern.charAt(pos.getIndex())) {
---
>                 switch (c[pos.getIndex()]) {
210,211c212,213
<                     return appendTo == null ? null : appendTo.append(pattern,
<                             lastHold, pos.getIndex());
---
>                     return appendTo == null ? null : appendTo.append(c,
>                             lastHold, pos.getIndex() - lastHold);
