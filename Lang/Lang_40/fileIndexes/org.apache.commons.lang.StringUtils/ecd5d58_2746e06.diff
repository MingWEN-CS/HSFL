2231c2231
<         return splitByWholeSeparator( str, separator, -1 ) ;
---
>         return splitByWholeSeparatorWorker( str, separator, -1, false ) ;
2261a2262,2343
>         return splitByWholeSeparatorWorker(str, separator, max, false);
>     }
> 
>     
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
>     public static String[] splitByWholeSeparatorPreserveAllTokens(String str, String separator) {
>         return splitByWholeSeparatorWorker( str, separator, -1, true ) ;
>     }
> 
>     
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
>     public static String[] splitByWholeSeparatorPreserveAllTokens( String str, String separator, int max ) {
>         return splitByWholeSeparatorWorker(str, separator, max, true);
>     }
> 
>     
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
>     private static String[] splitByWholeSeparatorWorker( String str, String separator, 
>                                                          int max, boolean preserveAllTokens ) 
>     {
2274c2356
<             return split( str, null, max ) ;
---
>             return splitWorker( str, null, max, preserveAllTokens ) ;
2305a2388,2396
>                     if( preserveAllTokens ) {
>                         numberOfSubstrings += 1 ;
>                         if ( numberOfSubstrings == max ) {
>                             end = len ;
>                             substrings.add( str.substring( beg ) ) ;
>                         } else {
>                             substrings.add( "" );
>                         }
>                     }
