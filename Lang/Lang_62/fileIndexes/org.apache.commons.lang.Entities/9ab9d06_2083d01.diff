822a823,828
>                 int amph = str.indexOf('&', i + 1);
>                 if( amph != -1 && amph < semi ) {
>                     
>                     buf.append(ch);
>                     continue;
>                 }
882a889,894
>                     writer.write(c);
>                     continue;
>                 }
>                 int amphersandIdx = string.indexOf('&', i + 1);
>                 if( amphersandIdx != -1 && amphersandIdx < semiColonIdx ) {
>                     
