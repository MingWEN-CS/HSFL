349,352c349,354
<         checkVectorDimensions(v.length);
<         double[] out = data.clone();
<         for (int i = 0; i < data.length; i++) {
<             out[i] -= v[i];
---
>         final int dim = v.length;
>         checkVectorDimensions(dim);
>         ArrayRealVector result = new ArrayRealVector(dim);
>         double[] resultData = result.data;
>         for (int i = 0; i < dim; i++) {
>             resultData[i] = data[i] - v[i];
354c356
<         return new ArrayRealVector(out, false);
---
>         return result;
437,440c439,444
<         checkVectorDimensions(v.length);
<         double[] out = data.clone();
<         for (int i = 0; i < data.length; i++) {
<             out[i] *= v[i];
---
>         final int dim = v.length;
>         checkVectorDimensions(dim);
>         ArrayRealVector result = new ArrayRealVector(dim);
>         double[] resultData = result.data;
>         for (int i = 0; i < dim; i++) {
>             resultData[i] = data[i] * v[i];
442c446
<         return new ArrayRealVector(out, false);
---
>         return result;
473,476c477,482
<         checkVectorDimensions(v.length);
<         double[] out = data.clone();
<         for (int i = 0; i < data.length; i++) {
<                 out[i] /= v[i];
---
>         final int dim = v.length;
>         checkVectorDimensions(dim);
>         ArrayRealVector result = new ArrayRealVector(dim);
>         double[] resultData = result.data;
>         for (int i = 0; i < dim; i++) {
>             resultData[i] = data[i] / v[i];
478c484
<         return new ArrayRealVector(out, false);
---
>         return result;
