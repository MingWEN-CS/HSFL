385a386,449
> 
> 
>     private static boolean isSymmetricInternal(RealMatrix matrix,
>                                                double relativeTolerance,
>                                                boolean raiseException) {
>         final int rows = matrix.getRowDimension();
>         if (rows != matrix.getColumnDimension()) {
>             if (raiseException) {
>                 throw new NonSquareMatrixException(rows, matrix.getColumnDimension());
>             } else {
>                 return false;
>             }
>         }
>         for (int i = 0; i < rows; i++) {
>             for (int j = i + 1; j < rows; j++) {
>                 final double mij = matrix.getEntry(i, j);
>                 final double mji = matrix.getEntry(j, i);
>                 if (FastMath.abs(mij - mji) >
>                     FastMath.max(FastMath.abs(mij), FastMath.abs(mji)) * relativeTolerance) {
>                     if (raiseException) {
>                         throw new NonSymmetricMatrixException(i, j, relativeTolerance);
>                     } else {
>                         return false;
>                     }
>                 }
>             }
>         }
>         return true;
>     }
> 
>     
> 
> 
> 
> 
> 
> 
> 
>     public static void checkSymmetric(RealMatrix matrix,
>                                       double eps) {
>         isSymmetricInternal(matrix, eps, true);
>     }
> 
>     
> 
> 
> 
> 
> 
> 
>     public static boolean isSymmetric(RealMatrix matrix,
>                                       double eps) {
>         return isSymmetricInternal(matrix, eps, false);
>     }
> 
>     
> 
> 
> 
> 
> 
> 
> 
> 
