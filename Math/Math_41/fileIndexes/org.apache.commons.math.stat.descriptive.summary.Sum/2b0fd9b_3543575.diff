36a37
> 
55c56
<         value = Double.NaN;
---
>         value = 0;
73,77c74
<         if (n == 0) {
<             value = d;
<         } else {
<             value += d;
<         }
---
>         value += d;
101c98
<         value = Double.NaN;
---
>         value = 0;
122c119
<         if (test(values, begin, length)) {
---
>         if (test(values, begin, length, true)) {
161c158
<         if (test(values, weights, begin, length)) {
---
>         if (test(values, weights, begin, length, true)) {
