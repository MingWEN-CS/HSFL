81a82,90
>     	return test(values, begin, length, false);
>     }
>     
>     
> 
> 
> 
> 
> 
83,85d91
<         if (values == null) {
<             throw new NullArgumentException(LocalizedFormats.INPUT_ARRAY);
<         }
87,89d92
<         if (begin < 0) {
<             throw new NotPositiveException(LocalizedFormats.START_POSITION, begin);
<         }
91,93d93
<         if (length < 0) {
<             throw new NotPositiveException(LocalizedFormats.LENGTH, length);
<         }
95,98d94
<         if (begin + length > values.length) {
<             throw MathRuntimeException.createIllegalArgumentException(
<                   LocalizedFormats.SUBARRAY_ENDS_AFTER_ARRAY_END);
<         }
100,102d95
<         if (length == 0) {
<             return false;
<         }
104c97,129
<         return true;
---
> 
> 
> 
> 
> 
> 
> 
> 
> 
>     protected boolean test(final double[] values, final int begin, final int length, final boolean allowEmpty){
> 
>     	if (values == null) {
>     		throw new NullArgumentException(LocalizedFormats.INPUT_ARRAY);
>     	}
> 
>     	if (begin < 0) {
>     		throw new NotPositiveException(LocalizedFormats.START_POSITION, begin);
>     	}
> 
>     	if (length < 0) {
>     		throw new NotPositiveException(LocalizedFormats.LENGTH, length);
>     	}
> 
>     	if (begin + length > values.length) {
>     		throw MathRuntimeException.createIllegalArgumentException(
>     				LocalizedFormats.SUBARRAY_ENDS_AFTER_ARRAY_END);
>     	}
> 
>     	if (length == 0 && !allowEmpty) {
>     		return false;
>     	}
> 
>     	return true;
141a167,200
>     	return test(values, weights, begin, length, false);
>     }
>     
>     
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
>     protected boolean test(final double[] values, final double[] weights, final int begin, final int length, final boolean allowEmpty){
175c234
<         return test(values, begin, length);
---
>         return test(values, begin, length, allowEmpty);
