297a298,310
>     public synchronized double substituteMostRecentElement(double value) {
>         if (numElements < 1) {
>         	throw MathRuntimeException.createArrayIndexOutOfBoundsException("cannot substitute an element from an empty array",
>         	                                                                null);
>         }
> 
>         double discarded = internalArray[startIndex + (numElements - 1)];
> 
>     	internalArray[startIndex + (numElements - 1)] = value;
> 
>     	return discarded;
>     }
> 
374a388,427
> 
>     	discardExtremeElements(i,true);
>     	
>     }
> 
>     
> 
> 
> 
> 
> 
> 
> 
> 
> 
>     public synchronized void discardMostRecentElements(int i) {
> 
>     	discardExtremeElements(i,false);
>     	
>     }
> 
>     
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
>     private synchronized void discardExtremeElements(int i,boolean front) {
385c438
<             startIndex += i;
---
>             if (front) startIndex += i;
