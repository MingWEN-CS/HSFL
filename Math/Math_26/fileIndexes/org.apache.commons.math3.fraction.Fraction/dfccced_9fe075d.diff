37c37
<     private static final long serialVersionUID = 5463066929751300926L;
---
>     private static final long serialVersionUID = -8958519416450949235L;
130a131
>         long overflow = Integer.MAX_VALUE;
132c133,136
<         int a0 = (int)Math.floor(r0);
---
>         long a0 = (long)Math.floor(r0);
>         if (a0 > overflow) {
>             throw new FractionConversionException(value, a0, 1l);
>         }
137c141
<             this.numerator = a0;
---
>             this.numerator = (int) a0;
141,145d144
<         
<         int p0 = 1;
<         int q0 = 0;
<         int p1 = a0;
<         int q1 = 1;
147,148c146,152
<         int p2 = 0;
<         int q2 = 1;
---
>        long p0 = 1;
>         long q0 = 0;
>         long p1 = a0;
>         long q1 = 1;
> 
>         long p2 = 0;
>         long q2 = 1;
155c159
<             int a1 = (int)Math.floor(r1);
---
>             long a1 = (long)Math.floor(r1);
157a162,164
>             if ((p2 > overflow) || (q2 > overflow)) {
>                 throw new FractionConversionException(value, p2, q2);
>             }
177,178c184,185
<             this.numerator = p2;
<             this.denominator = q2;
---
>             this.numerator = (int) p2;
>             this.denominator = (int) q2;
180,181c187,188
<             this.numerator = p1;
<             this.denominator = q1;
---
>             this.numerator = (int) p1;
>             this.denominator = (int) q1;
