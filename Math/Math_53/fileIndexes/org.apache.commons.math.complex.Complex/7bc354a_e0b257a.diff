256,257d255
<         boolean ret;
< 
259,272c257,264
<             ret = true;
<         } else if (other == null) {
<             ret = false;
<         } else  {
<             try {
<                 Complex rhs = (Complex)other;
<                 if (rhs.isNaN()) {
<                     ret = this.isNaN();
<                 } else {
<                     ret = (real == rhs.real) && (imaginary == rhs.imaginary);
<                 }
<             } catch (ClassCastException ex) {
<                 
<                 ret = false;
---
>             return true;
>         }
>         if (other instanceof Complex){
>             Complex rhs = (Complex)other;
>             if (rhs.isNaN()) {
>                 return this.isNaN();
>             } else {
>                 return (real == rhs.real) && (imaginary == rhs.imaginary);
275,276c267
< 
<         return ret;
---
>         return false;
