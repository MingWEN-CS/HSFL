26c26
< import org.apache.commons.math.ode.ExpandableFirstOrderDifferentialEquations;
---
> import org.apache.commons.math.ode.ExpandableStatefulODE;
217,224d216
< 
< 
< 
< 
< 
< 
< 
< 
226,228c218
<   protected void sanityChecks(final ExpandableFirstOrderDifferentialEquations equations,
<                               final double t0, final double[] y0,
<                               final double t, final double[] y)
---
>   protected void sanityChecks(final ExpandableStatefulODE equations, final double t)
231c221
<       super.sanityChecks(equations, t0, y0, t, y);
---
>       super.sanityChecks(equations, t);
233c223
<       mainSetDimension = equations.getMainSetDimension();
---
>       mainSetDimension = equations.getPrimaryMapper().getDimension();
352,354c342
<   public abstract double integrate (ExpandableFirstOrderDifferentialEquations equations,
<                                     double t0, double[] y0,
<                                     double t, double[] y)
---
>   public abstract void integrate (ExpandableStatefulODE equations, double t)
