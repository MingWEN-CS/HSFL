2223c2223,2245
<          final int len = source.length;
---
>          return copyOf(source, source.length);
>      }
> 
>     
> 
> 
> 
> 
> 
>      public static double[] copyOf(double[] source) {
>          return copyOf(source, source.length);
>      }
> 
>     
> 
> 
> 
> 
> 
> 
> 
> 
>     public static int[] copyOf(int[] source, int len) {
2225c2247
<          System.arraycopy(source, 0, output, 0, len);
---
>          System.arraycopy(source, 0, output, 0, FastMath.min(len, source.length));
2235,2236c2257,2260
<      public static double[] copyOf(double[] source) {
<          final int len = source.length;
---
> 
> 
> 
>     public static double[] copyOf(double[] source, int len) {
2238c2262
<          System.arraycopy(source, 0, output, 0, len);
---
>          System.arraycopy(source, 0, output, 0, FastMath.min(len, source.length));
