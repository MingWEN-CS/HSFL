2010,2011c2010,2011
<     if (phaseOptimizer != null) {
<       return phaseOptimizer.hasScopeChanged(n);
---
>     if (!analyzeChangedScopesOnly || phaseOptimizer == null) {
>       return true;
2013c2013
<     return true;
---
>     return phaseOptimizer.hasScopeChanged(n);
2017c2017
<   void reportChangeToScope(Node n) {
---
>   void reportChangeToEnclosingScope(Node n) {
2019c2019
<       phaseOptimizer.reportChangeToScope(n);
---
>       phaseOptimizer.reportChangeToEnclosingScope(n);
2037,2052d2036
< 
<   @Override
<   Node getEnclosingScope(Node n) {
<     while (n != jsRoot && n.getParent() != null) {
<       n = n.getParent();
<       if (n.isFunction()) {
<         return n;
<       }
<     }
<     return n;
<   }
< 
<   
< 
< 
< 
