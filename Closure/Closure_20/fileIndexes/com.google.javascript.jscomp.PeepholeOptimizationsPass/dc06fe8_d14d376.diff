33c33,36
<   private ImmutableSet<AbstractPeepholeOptimization> peepholeOptimizations;
---
>   
>   
>   
>   private final AbstractPeepholeOptimization[] peepholeOptimizations;
35,39d37
<   PeepholeOptimizationsPass(AbstractCompiler compiler,
<       ImmutableSet<AbstractPeepholeOptimization> optimizations) {
<     this.compiler = compiler;
<     this.peepholeOptimizations = optimizations;
<   }
47c45,46
<     this(compiler, ImmutableSet.copyOf(optimizations));
---
>     this.compiler = compiler;
>     this.peepholeOptimizations = optimizations;
