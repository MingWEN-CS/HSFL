782c782,784
<               !mayEffectMutableState(lhs)) {
---
>               !mayEffectMutableState(lhs) &&
>               (!mayHaveSideEffects(cond) ||
>                   (thenOp.isAssign() && thenOp.getFirstChild().isName()))) {
