21c21
< import com.google.common.collect.Maps;
---
> import com.google.common.collect.ImmutableMap;
37c37
<   private final Map<String, String> map;
---
>   private final ImmutableMap<String, String> map;
40c40
<   private Map<String, String> reverseMap = null;
---
>   private ImmutableMap<String, String> reverseMap = null;
45c45
<     this.map = Collections.unmodifiableMap(map);
---
>     this.map = ImmutableMap.copyOf(map);
61,63c61
<     if (reverseMap == null) {
<       initReverseMap();
<     }
---
>     initReverseMap();
72c70
<       Map<String, String> rm = new HashMap<String, String>();
---
>       ImmutableMap.Builder<String, String> rm = ImmutableMap.builder();
76c74
<       reverseMap = Collections.unmodifiableMap(rm);
---
>       reverseMap = rm.build();
91,93c89
<     if (reverseMap == null) {
<       initReverseMap();
<     }
---
>     initReverseMap();
153c149
<     Map<String, String> map = new HashMap<String, String>();
---
>     ImmutableMap.Builder<String, String> map = ImmutableMap.builder();
164c160
<     return new VariableMap(map);
---
>     return new VariableMap(map.build());
206c202
<     return new VariableMap(Maps.newHashMap(map));
---
>     return new VariableMap(map);
