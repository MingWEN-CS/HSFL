155a156
> 
157c158
<   public boolean equals(Object that) {
---
>   public boolean isEquivalentTo(JSType that) {
160,165c161,166
<     } else if (that instanceof JSType) {
<       ObjectType objType = ObjectType.cast((JSType) that);
<       if (objType != null) {
<         return objType.isNominalType() &&
<             reference.equals(objType.getReferenceName());
<       }
---
>     }
> 
>     ObjectType objType = ObjectType.cast(that);
>     if (objType != null) {
>       return objType.isNominalType() &&
>           reference.equals(objType.getReferenceName());
