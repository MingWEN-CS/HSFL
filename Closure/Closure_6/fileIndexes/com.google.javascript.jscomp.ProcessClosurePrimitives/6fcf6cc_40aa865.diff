121d120
<   private final boolean rewriteNewDateGoogNow;
126,127c125
<       CheckLevel requiresLevel,
<       boolean rewriteNewDateGoogNow) {
---
>       CheckLevel requiresLevel) {
132d129
<     this.rewriteNewDateGoogNow = rewriteNewDateGoogNow;
253,256d249
<       case Token.NEW:
<         trySimplifyNewDate(t, n, parent);
<         break;
< 
655,682d647
<   }
< 
< 
<   
< 
< 
<   private void trySimplifyNewDate(NodeTraversal t, Node n, Node parent) {
<     if (!rewriteNewDateGoogNow) {
<       return;
<     }
<     Preconditions.checkArgument(n.isNew());
<     Node date = n.getFirstChild();
<     if (!date.isName() || !"Date".equals(date.getString())) {
<       return;
<     }
<     Node callGoogNow = date.getNext();
<     if (callGoogNow == null || !callGoogNow.isCall() ||
<         callGoogNow.getNext() != null) {
<       return;
<     }
<     Node googNow = callGoogNow.getFirstChild();
<     String googNowQName = googNow.getQualifiedName();
<     if (googNowQName == null || !"goog.now".equals(googNowQName)
<         || googNow.getNext() != null) {
<       return;
<     }
<     n.removeChild(callGoogNow);
<     compiler.reportCodeChange();
