143c143
<   private void endPass(Node root) {
---
>   private void endPass(Node externs, Node root) {
150c150,156
<     maybeSanityCheck(root);
---
>     try {
>       maybeSanityCheck(externs, root);
>     } catch (Exception e) {
>       
>       
>       throw new RuntimeException("Sanity check failed for " + passToCheck, e);
>     }
156c162
<   void maybeSanityCheck(Node root) {
---
>   void maybeSanityCheck(Node externs, Node root) {
158c164
<       sanityCheck.create(compiler).process(null, root);
---
>       sanityCheck.create(compiler).process(externs, root);
199c205
<       endPass(root);
---
>       endPass(externs, root);
