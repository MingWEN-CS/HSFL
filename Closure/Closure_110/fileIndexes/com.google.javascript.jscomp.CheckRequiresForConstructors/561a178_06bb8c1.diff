72a73,93
>   
>   private static boolean isClassName(String name) {
>     return (name != null && name.length() > 1
>             && Character.isUpperCase(name.charAt(0))
>             && !name.equals(name.toUpperCase()));
>   }
> 
>   
>   
>   private static String getOutermostClassName(String className) {
>     for (String part : className.split("\\.")) {
>       if (isClassName(part)) {
>         return className.substring(0, className.indexOf(part) +
>                                    part.length());
>       }
>     }
> 
>     return null;
>   }
> 
>   
139,140c160,166
<         if ((constructors == null || !constructors.contains(className))
<             && (requires == null || !requires.contains(className))
---
>         String outermostClassName = getOutermostClassName(className);
>         boolean notProvidedByConstructors =
>             (constructors == null || !constructors.contains(className));
>         boolean notProvidedByRequires =
>             (requires == null || (!requires.contains(className)
>                                   && !requires.contains(outermostClassName)));
>         if (notProvidedByConstructors && notProvidedByRequires
