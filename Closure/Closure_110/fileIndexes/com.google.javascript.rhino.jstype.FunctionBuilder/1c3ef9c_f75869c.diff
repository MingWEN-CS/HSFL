60c60
<   private ImmutableList<String> templateKeys = ImmutableList.of();
---
>   private TemplateTypeMap templateTypeMap = null;
122,124c122,123
<   public FunctionBuilder withTemplateKeys(
<       ImmutableList<String> templateKeys) {
<     this.templateKeys = templateKeys;
---
>   public FunctionBuilder withTemplateKeys(ImmutableList<String> templateKeys) {
>     this.templateTypeMap = registry.createTemplateTypeMap(templateKeys, null);
153c152
<     this.templateKeys = otherType.getTemplateKeys();
---
>     this.templateTypeMap = otherType.getTemplateTypeMap();
163c162
<         typeOfThis, templateKeys, isConstructor, isNativeType);
---
>         typeOfThis, templateTypeMap, isConstructor, isNativeType);
