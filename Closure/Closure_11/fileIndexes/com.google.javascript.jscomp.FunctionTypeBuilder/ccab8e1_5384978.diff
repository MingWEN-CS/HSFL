87c87
<   private String templateTypeName = null;
---
>   private ImmutableList<String> templateTypeNames = ImmutableList.of();
312c312
<     if (templateTypeName != null &&
---
>     if (!templateTypeNames.isEmpty() &&
470c470
<       if (templateTypeName != null &&
---
>       if (!templateTypeNames.isEmpty() &&
495c495
<     if (templateTypeName != null && !foundTemplateType) {
---
>     if (!templateTypeNames.isEmpty() && !foundTemplateType) {
541,542c541,542
<       templateTypeName = info.getTemplateTypeName();
<       typeRegistry.setTemplateTypeName(templateTypeName);
---
>       templateTypeNames = info.getTemplateTypeNames();
>       typeRegistry.setTemplateTypeNames(templateTypeNames);
638c638
<           .withTemplateName(templateTypeName)
---
>           .withTemplateNames(templateTypeNames)
651c651
<     typeRegistry.clearTemplateTypeName();
---
>     typeRegistry.clearTemplateTypeNames();
