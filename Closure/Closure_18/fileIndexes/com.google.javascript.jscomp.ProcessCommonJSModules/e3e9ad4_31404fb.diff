18,21d17
< import java.io.File;
< import java.net.URI;
< import java.net.URISyntaxException;
< 
26a23,25
> import java.io.File;
> import java.net.URI;
> import java.net.URISyntaxException;
36d34
< class ProcessCommonJSModules implements CompilerPass {
38c36,38
<   public static final String  DEFAULT_FILENAME_PREFIX = "." + File.separator;
---
> public class ProcessCommonJSModules implements CompilerPass {
> 
>   public static final String DEFAULT_FILENAME_PREFIX = "." + File.separator;
48,50c48
<     this.compiler = compiler;
<     this.filenamePrefix = filenamePrefix;
<     this.reportDependencies = true;
---
>     this(compiler, filenamePrefix, true);
56c54,55
<     this.filenamePrefix = filenamePrefix;
---
>     this.filenamePrefix = filenamePrefix.endsWith(File.separator) ?
>         filenamePrefix : filenamePrefix + File.separator;
66c65
<   private String guessCJSModuleName(String filename) {
---
>   String guessCJSModuleName(String filename) {
248c247
<     public SuffixVarsCallback(String suffix) {
---
>     SuffixVarsCallback(String suffix) {
