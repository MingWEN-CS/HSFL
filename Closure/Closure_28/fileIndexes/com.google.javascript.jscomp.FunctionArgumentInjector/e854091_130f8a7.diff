67,69c67,69
<         Preconditions.checkState(parent.getType() != Token.FUNCTION
<             || parent.getType() != Token.VAR
<             || parent.getType() != Token.CATCH);
---
>         Preconditions.checkState(!parent.isFunction()
>             || !parent.isVar()
>             || !parent.isCatch());
79c79
<       if (replacementTemplate.getType() != Token.THIS) {
---
>       if (!replacementTemplate.isThis()) {
