20a21
> import static com.google.javascript.rhino.jstype.JSTypeNative.OBJECT_TYPE;
127a129,134
>   static final DiagnosticType THIS_TYPE_NON_OBJECT =
>       DiagnosticType.warning(
>           "JSC_THIS_TYPE_NON_OBJECT",
>           "@this type of a function must be an object\n" +
>           "Actual type: {0}");
> 
167a175,191
>   private class ThisTypeValidator implements Predicate<JSType> {
>     @Override
>     public boolean apply(JSType type) {
>       
>       
>       
>       
>       
>       
>       if (!type.isSubtype(typeRegistry.getNativeType(OBJECT_TYPE))) {
>         reportWarning(THIS_TYPE_NON_OBJECT, type.toString());
>         return false;
>       }
>       return true;
>     }
>   };
> 
391,396d414
<       
<       
<       
<       
<       
<       
397a416
>       thisType.setValidator(new ThisTypeValidator());
