227c227
<   abstract State getIntermediateState();
---
>   protected abstract State getIntermediateState();
233c233
<   abstract void setIntermediateState(State state);
---
>   protected abstract void setIntermediateState(State state);
264c264
<     @Override State getIntermediateState() {
---
>     @Override protected State getIntermediateState() {
268c268
<     @Override void setIntermediateState(State state) {
---
>     @Override protected void setIntermediateState(State state) {
276c276
<   static class State implements Serializable {
---
>   public static class State implements Serializable {
289,294c289,294
<     State(Map<String, Integer> cssNames, Set<String> exportedNames,
<           CrossModuleMethodMotion.IdGenerator crossModuleIdGenerator,
<           VariableMap variableMap, VariableMap propertyMap,
<           VariableMap anonymousFunctionNameMap,
<           VariableMap stringMap, FunctionNames functionNames,
<           String idGeneratorMap) {
---
>     public State(Map<String, Integer> cssNames, Set<String> exportedNames,
>         CrossModuleMethodMotion.IdGenerator crossModuleIdGenerator,
>         VariableMap variableMap, VariableMap propertyMap,
>         VariableMap anonymousFunctionNameMap,
>         VariableMap stringMap, FunctionNames functionNames,
>         String idGeneratorMap) {
