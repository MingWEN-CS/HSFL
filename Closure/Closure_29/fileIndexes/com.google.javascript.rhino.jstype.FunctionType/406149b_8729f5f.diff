789c789
<     Preconditions.checkArgument(getPrototype().hasProperty(propertyName));
---
>     Preconditions.checkArgument(getInstanceType().hasProperty(propertyName));
796,797c796,797
<     ObjectType topInstanceType = ctor.getInstanceType();
<     while (true) {
---
>     ObjectType topInstanceType = null;
>     do {
800,803c800,802
<       if (ctor == null || !ctor.getPrototype().hasProperty(propertyName)) {
<         break;
<       }
<     }
---
>     } while (ctor != null
>         && ctor.getPrototype().hasProperty(propertyName));
> 
