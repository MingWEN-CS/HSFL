153,164d152
<     
<     
<     
<     
<     if (n.getParent() == null) {
<       List<DiGraphEdge<Node,Branch>> outEdges = gNode.getOutEdges();
<       if (outEdges.size() == 1) {
<         return tryRemoveUnconditionalBranching(
<           outEdges.get(0).getDestination().getValue());
<       }
<     }
< 
166,173d153
<       case Token.BLOCK:
<         if (n.hasChildren()) {
<           Node first = n.getFirstChild();
<           return tryRemoveUnconditionalBranching(first);
<         } else {
<           return tryRemoveUnconditionalBranching(
<             ControlFlowAnalysis.computeFollowNode(n));
<         }
186d165
< 
188a168
> 
190,191c170
<           Node fallThrough = tryRemoveUnconditionalBranching(
<             ControlFlowAnalysis.computeFollowNode(n));
---
>           Node fallThrough = computeFollowing(n);
199a179,190
>   }
> 
>   private Node computeFollowing(Node n) {
>     Node next = ControlFlowAnalysis.computeFollowNode(n);
>     while (next != null && next.getType() == Token.BLOCK) {
>       if (next.hasChildren()) {
>         next = next.getFirstChild();
>       } else {
>         next = computeFollowing(next);
>       }
>     }
>     return next;
