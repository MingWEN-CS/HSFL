525,528c525,527
<         for (int i = prevCutPosition; i < code.length() - 1; i++) {
<           code.setCharAt(i, code.charAt(i+1));
<         }
<         code.setLength(code.length() - 1);
---
>         
>         
>         code.setCharAt(prevCutPosition, ' ');
531c530
<         reportLineCut(lineIndex, prevCutPosition, false);
---
>         reportLineCut(lineIndex, prevCutPosition + 1, false);
