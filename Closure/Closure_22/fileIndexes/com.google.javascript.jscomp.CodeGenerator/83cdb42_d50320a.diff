103,104d102
<       addExpr(first, p, context);
<       cc.addOp(opstr, true);
114a113,114
>         addExpr(first, p, context);
>         cc.addOp(opstr, true);
117a118,119
>         addExpr(first, p, context);
>         cc.addOp(opstr, true);
120c122
<         addExpr(last, p + 1, rhsContext);
---
>         unrollBinaryOperator(n, type, opstr, context, rhsContext, p, p + 1);
221,240c223
< 
<         
<         
<         
<         
<         
<         Node firstNonComma = n.getFirstChild();
<         while (firstNonComma.getType() == Token.COMMA) {
<           firstNonComma = firstNonComma.getFirstChild();
<         }
< 
<         addExpr(firstNonComma, 0, context);
< 
<         Node current = firstNonComma;
<         do {
<           current = current.getParent();
<           cc.listSeparator();
<           addExpr(current.getFirstChild().getNext(), 0, Context.OTHER);
<         } while (current != n);
< 
---
>         unrollBinaryOperator(n, Token.COMMA, ",", context, Context.OTHER, 0, 0);
746a730,754
>   }
> 
>   
> 
> 
> 
> 
> 
> 
>   private void unrollBinaryOperator(
>       Node n, int op, String opStr, Context context,
>       Context rhsContext, int leftPrecedence, int rightPrecedence) {
>     Node firstNonOperator = n.getFirstChild();
>     while (firstNonOperator.getType() == op) {
>       firstNonOperator = firstNonOperator.getFirstChild();
>     }
> 
>     addExpr(firstNonOperator, leftPrecedence, context);
> 
>     Node current = firstNonOperator;
>     do {
>       current = current.getParent();
>       cc.addOp(opStr, true);
>       addExpr(current.getFirstChild().getNext(), rightPrecedence, rhsContext);
>     } while (current != n);
