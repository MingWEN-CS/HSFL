386a387,398
> 
>     
>     
>     
>     if (options.crossModuleCodeMotion) {
>       passes.add(crossModuleCodeMotion);
>     }
> 
>     
>     
>     
>     
1778,1797d1789
<   }
< 
<   
<   private static class ErrorPass implements CompilerPass {
<     private final AbstractCompiler compiler;
<     private final JSError error;
< 
<     private ErrorPass(AbstractCompiler compiler, DiagnosticType error) {
<       this(compiler, JSError.make(error));
<     }
< 
<     private ErrorPass(AbstractCompiler compiler, JSError error) {
<       this.compiler = compiler;
<       this.error = error;
<     }
< 
<     @Override
<     public void process(Node externs, Node root) {
<       compiler.report(error);
<     }
