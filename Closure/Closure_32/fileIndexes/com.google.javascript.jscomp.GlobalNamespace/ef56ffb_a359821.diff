603a604,606
>           case Token.DELPROP:
>             type = Ref.Type.DELETE_PROP;
>             break;
661a665,666
>           case Token.DELPROP:
>             return Ref.Type.DELETE_PROP;
809a815
>     int deleteProps = 0;
830a837
>       addRefInternal(ref);
837d843
<           addRefInternal(ref);
841d846
<           addRefInternal(ref);
846d850
<           addRefInternal(ref);
850d853
<           addRefInternal(ref);
855d857
<           addRefInternal(ref);
858a861,863
>         case DELETE_PROP:
>           deleteProps++;
>           break;
896a902,904
>           case DELETE_PROP:
>             deleteProps--;
>             break;
944c952,953
<           (globalSets > 0 || localSets > 0));
---
>           (globalSets > 0 || localSets > 0) &&
>           deleteProps == 0);
953c962
<           || globalSets != 1 || localSets != 0) {
---
>           || globalSets != 1 || localSets != 0 || deleteProps != 0) {
1063a1073
>       DELETE_PROP,      
