71a72
>   private final boolean assumeMinimumCapture;
80c81,82
<       boolean assumeStrictThis) {
---
>       boolean assumeStrictThis,
>       boolean assumeMinimumCapture) {
87a90
>     this.assumeMinimumCapture = assumeMinimumCapture;
90c93,94
<         compiler, safeNameIdSupplier, true, assumeStrictThis);
---
>         compiler, safeNameIdSupplier,
>         true, assumeStrictThis, assumeMinimumCapture);
290c294
<             if (hasLocalNames(fnNode)) {
---
>             if (!assumeMinimumCapture && hasLocalNames(fnNode)) {
