138c138,139
<         new CallVisitor(fns, anonFns, new Inline(injector)));
---
>         new CallVisitor(
>             fns, anonFns, new Inline(injector, specializationState)));
318c319
<   private Node getContainingFunction(NodeTraversal t) {
---
>   private static Node getContainingFunction(NodeTraversal t) {
558c559
<   private class Inline implements CallVisitorCallback {
---
>   private static class Inline implements CallVisitorCallback {
559a561
>     private final SpecializeModule.SpecializationState specializationState;
561c563,564
<     Inline(FunctionInjector injector) {
---
>     Inline(FunctionInjector injector,
>         SpecializeModule.SpecializationState specializationState) {
562a566
>       this.specializationState = specializationState;
