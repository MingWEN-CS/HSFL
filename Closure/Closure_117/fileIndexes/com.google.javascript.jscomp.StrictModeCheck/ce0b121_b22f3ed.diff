74a75,79
>   static final DiagnosticType BAD_FUNCTION_DECLARATION = DiagnosticType.error(
>       "JSC_BAD_FUNCTION_DECLARATION",
>       "functions can only be declared at top level or immediately within " +
>       "another function in ES5 strict mode");
> 
97c102,104
<     if (n.isName()) {
---
>     if (n.isFunction()) {
>       checkFunctionUse(t, n);
>     } else if (n.isName()) {
108a116,122
>     }
>   }
> 
>   
>   private void checkFunctionUse(NodeTraversal t, Node n) {
>     if (NodeUtil.isFunctionDeclaration(n) && !NodeUtil.isHoistedFunctionDeclaration(n)) {
>       t.report(n, BAD_FUNCTION_DECLARATION);
