45d44
< import com.google.common.base.Preconditions;
47d45
< import com.google.common.collect.ImmutableList;
562,563c560,561
<     boolean changed = false;
<     ImmutableList.Builder<JSType> resolvedTypes = ImmutableList.builder();
---
>     
>     
565,573c563
<       JSType newAlternate = alternate.resolve(t, scope);
<       changed |= (alternate != newAlternate);
<       resolvedTypes.add(alternate);
<     }
<     if (changed) {
<       Collection<JSType> newAlternates = resolvedTypes.build();
<       Preconditions.checkState(
<           newAlternates.hashCode() == this.hashcode);
<       alternates = newAlternates;
---
>       alternate.resolve(t, scope);
574a565,566
>     
>     rebuildAlternates();
