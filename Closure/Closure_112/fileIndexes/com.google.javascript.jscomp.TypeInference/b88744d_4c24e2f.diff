30a31,32
> import com.google.common.base.Predicate;
> import com.google.common.collect.ImmutableList;
1183c1185,1187
<     if (fnType.getTemplateTypeMap().getTemplateKeys().isEmpty()) {
---
>     final ImmutableList<TemplateType> keys = fnType.getTemplateTypeMap()
>         .getTemplateKeys();
>     if (keys.isEmpty()) {
1188,1189c1192,1194
<     Map<TemplateType, JSType> inferred = inferTemplateTypesFromParameters(
<         fnType, n);
---
>     Map<TemplateType, JSType> inferred = 
>         inferTemplateTypesFromParameters(fnType, n);
> 
