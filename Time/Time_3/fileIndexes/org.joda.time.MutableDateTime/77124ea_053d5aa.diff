105a106
> 
107c108
<     static final long serialVersionUID = 2852608688135209575L;
---
>     private static final long serialVersionUID = 2852608688135209575L;
108a110,123
>     
>     public static final int ROUND_NONE = 0;
>     
>     public static final int ROUND_FLOOR = 1;
>     
>     public static final int ROUND_CEILING = 2;
>     
>     public static final int ROUND_HALF_FLOOR = 3;
>     
>     public static final int ROUND_HALF_CEILING = 4;
>     
>     public static final int ROUND_HALF_EVEN = 5;
> 
>     
109a125
>     
317a334,339
>     
> 
> 
> 
> 
> 
321a344,349
>     
> 
> 
> 
> 
> 
326,333c354,367
<     public void setRoundingField(DateTimeField field) {
<         iRoundingField = field;
<         if (field != null) {
<             if (iRoundingMode == ROUND_NONE) {
<                 iRoundingMode = ROUND_FLOOR;
<             }
<             setMillis(getMillis());
<         }
---
>     
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
>     public void setRounding(DateTimeField field) {
>         setRounding(field, MutableDateTime.ROUND_FLOOR);
336,337c370,385
<     public void setRoundingField(DateTimeField field, int mode) {
<         if (mode < ROUND_NONE || mode > ROUND_HALF_EVEN) {
---
>     
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
>     public void setRounding(DateTimeField field, int mode) {
>         if (field != null && (mode < ROUND_NONE || mode > ROUND_HALF_EVEN)) {
340,344c388,390
<         iRoundingField = field;
<         iRoundingMode = mode;
<         if (field != null && mode != ROUND_NONE) {
<             setMillis(getMillis());
<         }
---
>         iRoundingField = (mode == ROUND_NONE ? null : field);
>         iRoundingMode = (field == null ? ROUND_NONE : mode);
>         setMillis(getMillis());
1157,1191d1202
<     
< 
< 
< 
< 
< 
< 
< 
< 
< 
< 
< 
< 
<     public boolean equals(Object readableInstant) {
<         if (this == readableInstant) {
<             return true;
<         }
<         if (super.equals(readableInstant)) {
<             if (readableInstant instanceof ReadWritableInstant) {
<                 ReadWritableInstant other = (ReadWritableInstant) readableInstant;
<                 if (getRoundingMode() == other.getRoundingMode()) {
<                     DateTimeField field = getRoundingField();
<                     if (field == other.getRoundingField() ||
<                         field != null && field.equals(other.getRoundingField())) {
<                         
<                         return true;
<                     }
<                 }
<             } else {
<                 return true;
<             }
<         }
<         return false;
<     }
< 
