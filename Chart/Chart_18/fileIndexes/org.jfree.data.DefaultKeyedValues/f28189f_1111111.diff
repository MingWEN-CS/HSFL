60d59
< 
85a85,86
>     
>     
317,318d317
< 
<         
320c319
<             rebuildIndex();
---
>         rebuildIndex();
335,336c334,335
<         if (index >= 0) {
<             removeValue(index);
---
>         if (index < 0) {
> 			return;
337a337
>         removeValue(index);
357,358c357,358
<       final int size = this.keys.size();
<       final DefaultKeyedValue[] data = new DefaultKeyedValue[size];
---
>         final int size = this.keys.size();
>         final DefaultKeyedValue[] data = new DefaultKeyedValue[size];
360,363c360,363
<       for (int i = 0; i < size; i++) {
<           data[i] = new DefaultKeyedValue((Comparable) this.keys.get(i), 
<                   (Number) this.values.get(i));
<       }
---
>         for (int i = 0; i < size; i++) {
>             data[i] = new DefaultKeyedValue((Comparable) this.keys.get(i), 
>                     (Number) this.values.get(i));
>         }
365c365
<       Comparator comparator = new KeyedValueComparator(
---
>         Comparator comparator = new KeyedValueComparator(
367,368c367,368
<       Arrays.sort(data, comparator);
<       clear();
---
>         Arrays.sort(data, comparator);
>         clear();
370,373c370,373
<       for (int i = 0; i < data.length; i++) {
<           final DefaultKeyedValue value = data[i];
<           addValue(value.getKey(), value.getValue());
<       }
---
>         for (int i = 0; i < data.length; i++) {
>             final DefaultKeyedValue value = data[i];
>             addValue(value.getKey(), value.getValue());
>         }
