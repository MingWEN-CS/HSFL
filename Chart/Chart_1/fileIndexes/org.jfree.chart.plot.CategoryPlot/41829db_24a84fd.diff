2236,2238c2236,2239
<         LegendItemCollection result = this.fixedLegendItems;
<         if (result == null) {
<             result = new LegendItemCollection();
---
>         if (this.fixedLegendItems != null) {
>             return this.fixedLegendItems;
>         }
>         LegendItemCollection result = new LegendItemCollection();
2246,2254c2247
<                         int seriesCount = dataset.getRowCount();
<                         for (int i = 0; i < seriesCount; i++) {
<                             LegendItem item = renderer.getLegendItem(
<                                     datasetIndex, i);
<                             if (item != null) {
<                                 result.add(item);
<                             }
<                         }
<                     }
---
>                     result.addAll(renderer.getLegendItems());
3352a3346
>         annotation.addChangeListener(this);
