154a155,156
> 
> 
1375a1378,1380
>         if (this.dataset == null) {
>             return 0.0;
>         }
2049,2050c2054,2057
<         state.setTotal(DatasetUtilities.calculatePieDatasetTotal(
<                 plot.getDataset()));
---
>         if (this.dataset != null) {
>             state.setTotal(DatasetUtilities.calculatePieDatasetTotal(
>                     plot.getDataset()));
>         }
